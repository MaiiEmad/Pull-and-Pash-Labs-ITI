{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Maii\\\\Desktop\\\\Push-and-Pull-Labs\\\\frontend\\\\src\\\\components\\\\Chat.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport axiosInstance from \"./../network/axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Chat() {\n  _s();\n\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState(\"\");\n  let messagesCount = messages.length;\n\n  const handleChange = e => {\n    setNewMessage(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    sendMessage();\n  };\n\n  const sendMessage = () => {\n    if (newMessage) {\n      axiosInstance.post(\"messages\", {\n        message: newMessage\n      }).then(response => {\n        setNewMessage(\"\");\n      }).catch(error => {//\n      });\n    }\n  };\n\n  const getMessages = () => {\n    axiosInstance.get(`messages?count=${messagesCount}`).then(response => {\n      setMessages(messages.concat(response.data));\n      messagesCount = messages.length;\n    }).catch(error => {//\n    });\n  };\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      getMessages();\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [messages]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card my-5 w-50 mx-auto\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body h-100\",\n      children: [messages.map((message, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"media\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"media-body d-flex flex-row align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"blank-profile-picture.png\",\n              width: \"35\",\n              height: \"35\",\n              className: \"rounded-circle m-2\",\n              alt: \"...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-1\",\n              children: message.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"input-group mt-3\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: newMessage,\n          onChange: handleChange,\n          className: \"form-control\",\n          placeholder: \"Send Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Chat, \"bFuYpZWMfOU2WhBa/CyaGkj6fmk=\");\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["useEffect","useState","axiosInstance","Chat","messages","setMessages","newMessage","setNewMessage","messagesCount","length","handleChange","e","target","value","handleSubmit","preventDefault","sendMessage","post","message","then","response","catch","error","getMessages","get","concat","data","interval","setInterval","clearInterval","map","index"],"sources":["C:/Users/Maii/Desktop/Push-and-Pull-Labs/frontend/src/components/Chat.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axiosInstance from \"./../network/axios\";\r\n\r\nfunction Chat() {\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState(\"\");\r\n  let messagesCount = messages.length;\r\n\r\n  const handleChange = (e) => {\r\n    setNewMessage(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    sendMessage();\r\n  };\r\n\r\n  const sendMessage = () => {\r\n    if (newMessage) {\r\n      axiosInstance\r\n      .post(\"messages\", { message: newMessage })\r\n        .then((response) => {\r\n          setNewMessage(\"\");\r\n        })\r\n        .catch((error) => {\r\n          //\r\n        });\r\n    }\r\n  };\r\n\r\n\r\n  const getMessages = () => {\r\n    axiosInstance\r\n    .get(`messages?count=${messagesCount}`)\r\n    .then((response) => {\r\n      setMessages(messages.concat(response.data));\r\n      messagesCount = messages.length;\r\n    })\r\n    .catch((error) => {\r\n      //\r\n    });\r\n  };\r\n  \r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      getMessages();\r\n    }, 1000);\r\n    return () => clearInterval(interval);\r\n  }, [messages]);\r\n\r\n  return (\r\n      <div className=\"card my-5 w-50 mx-auto\">\r\n        <div className=\"card-body h-100\">\r\n          {messages.map((message, index) => {\r\n            return (\r\n              <div className=\"media\" key={index}>\r\n                <div className=\"media-body d-flex flex-row align-items-center\">\r\n                  <img\r\n                    src=\"blank-profile-picture.png\"\r\n                    width=\"35\"\r\n                    height=\"35\"\r\n                    className=\"rounded-circle m-2\"\r\n                    alt=\"...\"\r\n                  />\r\n                  <div className=\"mb-1\">{message.message}</div>\r\n                </div>\r\n                <hr />\r\n              </div>\r\n            );\r\n          })}\r\n          <form onSubmit={handleSubmit} className=\"input-group mt-3\">\r\n            <input\r\n              type=\"text\"\r\n              value={newMessage}\r\n              onChange={handleChange}\r\n              className=\"form-control\"\r\n              placeholder=\"Send Message\"\r\n            />\r\n          </form>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,aAAP,MAA0B,oBAA1B;;;AAEA,SAASC,IAAT,GAAgB;EAAA;;EACd,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BJ,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACK,UAAD,EAAaC,aAAb,IAA8BN,QAAQ,CAAC,EAAD,CAA5C;EACA,IAAIO,aAAa,GAAGJ,QAAQ,CAACK,MAA7B;;EAEA,MAAMC,YAAY,GAAIC,CAAD,IAAO;IAC1BJ,aAAa,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb;EACD,CAFD;;EAIA,MAAMC,YAAY,GAAIH,CAAD,IAAO;IAC1BA,CAAC,CAACI,cAAF;IACAC,WAAW;EACZ,CAHD;;EAKA,MAAMA,WAAW,GAAG,MAAM;IACxB,IAAIV,UAAJ,EAAgB;MACdJ,aAAa,CACZe,IADD,CACM,UADN,EACkB;QAAEC,OAAO,EAAEZ;MAAX,CADlB,EAEGa,IAFH,CAESC,QAAD,IAAc;QAClBb,aAAa,CAAC,EAAD,CAAb;MACD,CAJH,EAKGc,KALH,CAKUC,KAAD,IAAW,CAChB;MACD,CAPH;IAQD;EACF,CAXD;;EAcA,MAAMC,WAAW,GAAG,MAAM;IACxBrB,aAAa,CACZsB,GADD,CACM,kBAAiBhB,aAAc,EADrC,EAECW,IAFD,CAEOC,QAAD,IAAc;MAClBf,WAAW,CAACD,QAAQ,CAACqB,MAAT,CAAgBL,QAAQ,CAACM,IAAzB,CAAD,CAAX;MACAlB,aAAa,GAAGJ,QAAQ,CAACK,MAAzB;IACD,CALD,EAMCY,KAND,CAMQC,KAAD,IAAW,CAChB;IACD,CARD;EASD,CAVD;;EAYAtB,SAAS,CAAC,MAAM;IACd,MAAM2B,QAAQ,GAAGC,WAAW,CAAC,MAAM;MACjCL,WAAW;IACZ,CAF2B,EAEzB,IAFyB,CAA5B;IAGA,OAAO,MAAMM,aAAa,CAACF,QAAD,CAA1B;EACD,CALQ,EAKN,CAACvB,QAAD,CALM,CAAT;EAOA,oBACI;IAAK,SAAS,EAAC,wBAAf;IAAA,uBACE;MAAK,SAAS,EAAC,iBAAf;MAAA,WACGA,QAAQ,CAAC0B,GAAT,CAAa,CAACZ,OAAD,EAAUa,KAAV,KAAoB;QAChC,oBACE;UAAK,SAAS,EAAC,OAAf;UAAA,wBACE;YAAK,SAAS,EAAC,+CAAf;YAAA,wBACE;cACE,GAAG,EAAC,2BADN;cAEE,KAAK,EAAC,IAFR;cAGE,MAAM,EAAC,IAHT;cAIE,SAAS,EAAC,oBAJZ;cAKE,GAAG,EAAC;YALN;cAAA;cAAA;cAAA;YAAA,QADF,eAQE;cAAK,SAAS,EAAC,MAAf;cAAA,UAAuBb,OAAO,CAACA;YAA/B;cAAA;cAAA;cAAA;YAAA,QARF;UAAA;YAAA;YAAA;YAAA;UAAA,QADF,eAWE;YAAA;YAAA;YAAA;UAAA,QAXF;QAAA,GAA4Ba,KAA5B;UAAA;UAAA;UAAA;QAAA,QADF;MAeD,CAhBA,CADH,eAkBE;QAAM,QAAQ,EAAEjB,YAAhB;QAA8B,SAAS,EAAC,kBAAxC;QAAA,uBACE;UACE,IAAI,EAAC,MADP;UAEE,KAAK,EAAER,UAFT;UAGE,QAAQ,EAAEI,YAHZ;UAIE,SAAS,EAAC,cAJZ;UAKE,WAAW,EAAC;QALd;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAlBF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADJ;AAgCD;;GA/EQP,I;;KAAAA,I;AAiFT,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}